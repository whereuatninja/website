// Navigation
nav.navbar.navbar-inverse.navbar-fixed-top(role='navigation')
  .container-fluid
    // Brand and toggle get grouped for better mobile display
    .navbar-header
      button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar', aria-expanded='false', aria-controls='navbar')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(href='/') Whereu @ Ninja?
    // Collect the nav links, forms, and other content for toggling
    #navbar.navbar-collapse.collapse
      ul.nav.navbar-nav.navbar-right
        -
        if user
          li.hidden-md.hidden-lg(data-toggle='collapse', data-target='#ninjaListMobile')
            a(href='#') My Ninjas
            ul#ninjaListMobile.nav.nav-list.collapse
              if viewModel.ninjas
                each ninja in viewModel.ninjas                  
                  li
                    a(href='/pirate/' + ninja.id) #{ninja.name}
              else
                li
                  a(href='#') No Ninjas 
          li.hidden-md.hidden-lg(data-toggle='collapse', data-target='#pirateListMobile')
            a(href='#') My Pirates
            ul#pirateListMobile.nav.nav-list.collapse
              li
                a(href='#') TBD-1
              li
                a(href='#') TBD-1
              li
                a(href='#') TBD-1
        li.dropdown
          a.dropdown-toggle(href='#', data-toggle='dropdown') Help
          ul.dropdown-menu
            li
              a(href='#') About
            li.divider
            li
              a(href='#') Contact
        if user
          li.dropdown
            a.dropdown-toggle(href='#', data-toggle='dropdown')
              | #{user.profile.displayName} 
              span.glyphicon.glyphicon-user.pull-right.fa-fw
            ul.dropdown-menu
              li
                a(href='#')
                  | Profile 
                  span.glyphicon.glyphicon-cog.pull-right.fa-fw
              li.divider
              li
                a(href='/logout')
                  | Sign Out 
                  span.glyphicon.glyphicon-log-out.pull-right.fa-fw
        else
          li
            a(href='#' onclick="signin()")
              span.glyphicon.glyphicon-log-in.pull-right.fa-fw
              |  Sign In

  script(src="https://cdn.auth0.com/js/lock-9.2.js")
  script(src='//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js')
  script.
    var lock = new Auth0Lock('#{env.AUTH0_CLIENT_ID}', '#{env.AUTH0_DOMAIN}');
    function signin() {
      lock.show({
          callbackURL: '#{env.AUTH0_CALLBACK_URL}'
        , responseType: 'code'
        , authParams: {
          scope: 'openid name email picture'
        }
      });
    }
